<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-N3VEGKRGXP"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-N3VEGKRGXP');</script>
<!-- Microsoft Clarity -->
<script>(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y)})(window,document,"clarity","script","vkqsqzb8ix");</script>
<title>Akash тАФ Your Insurance Sales Buddy</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&family=Noto+Sans+Devanagari:wght@400;500;600&family=Noto+Sans+Bengali:wght@400;500;600&family=Noto+Sans+Tamil:wght@400;500;600&family=Noto+Sans+Telugu:wght@400;500;600&family=Noto+Sans+Gujarati:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{--wa-green:#00a884;--wa-green-dark:#008069;--wa-bg:#efeae2;--wa-header:#1f2c34;--wa-bubble-out:#d9fdd3;--wa-bubble-in:#ffffff;--wa-text:#111b21;--wa-text-secondary:#667781;--wa-time:#667781;--wa-doodle:url("data:image/svg+xml,%3Csvg width='400' height='400' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='p' width='60' height='60' patternUnits='userSpaceOnUse'%3E%3Cpath d='M10 10l5 5M25 5l3 8M45 15l-4 6M15 35l6-3M40 40l4 4M5 50l8-2M50 30l-3 7M30 45l5-5M20 20l-3 4M35 10l2 6' stroke='%23c8b89a' stroke-width='0.5' fill='none' opacity='0.3'/%3E%3Ccircle cx='30' cy='30' r='1' fill='%23c8b89a' opacity='0.2'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='400' height='400' fill='url(%23p)'/%3E%3C/svg%3E")}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Noto Sans','Noto Sans Devanagari','Noto Sans Bengali','Noto Sans Tamil','Noto Sans Telugu','Noto Sans Gujarati',sans-serif;background:#111b21;height:100vh;height:100dvh;display:flex;justify-content:center;align-items:center;overflow:hidden}
.app-container{width:100%;max-width:500px;height:100vh;height:100dvh;display:flex;flex-direction:column;background:var(--wa-bg);position:relative;overflow:hidden}
@media(min-width:768px){.app-container{height:92vh;max-height:850px;border-radius:8px;box-shadow:0 15px 60px rgba(0,0,0,0.5)}}
.chat-header{background:var(--wa-header);color:white;padding:10px 16px;display:flex;align-items:center;gap:12px;flex-shrink:0;z-index:10}
.bot-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--wa-green),#25d366);display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;color:white;flex-shrink:0}
.bot-info{flex:1}.bot-name{font-size:16px;font-weight:600}.bot-status{font-size:11px;color:var(--wa-green);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.header-btn{background:none;border:none;color:#aebac1;cursor:pointer;font-size:18px;padding:4px;transition:color .2s}.header-btn:hover{color:white}
.chat-area{flex:1;overflow-y:auto;padding:12px 16px 8px;background-color:#e5ddd5;background-image:var(--wa-doodle);display:flex;flex-direction:column;gap:4px;scroll-behavior:smooth}
.chat-area::-webkit-scrollbar{width:6px}.chat-area::-webkit-scrollbar-thumb{background:rgba(0,0,0,.2);border-radius:3px}
.message{max-width:85%;padding:8px 10px 6px;border-radius:8px;font-size:14.2px;line-height:1.45;color:var(--wa-text);animation:msgIn .25s ease-out;word-wrap:break-word}
@keyframes msgIn{from{opacity:0;transform:translateY(8px) scale(.97)}to{opacity:1;transform:translateY(0) scale(1)}}
.message.bot{background:var(--wa-bubble-in);align-self:flex-start;border-top-left-radius:0;box-shadow:0 1px .5px rgba(11,20,26,.08)}
.message.user{background:var(--wa-bubble-out);align-self:flex-end;border-top-right-radius:0;box-shadow:0 1px .5px rgba(11,20,26,.08)}
.msg-time{font-size:11px;color:var(--wa-time);text-align:right;margin-top:4px;display:flex;justify-content:flex-end;align-items:center;gap:4px}
.msg-time .ticks{color:#53bdeb;font-size:14px}
.date-divider{text-align:center;margin:8px 0}.date-divider span{background:#e1f2fb;color:var(--wa-text-secondary);font-size:12px;padding:5px 12px;border-radius:8px;box-shadow:0 1px .5px rgba(11,20,26,.08)}
.quick-replies{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px;padding-bottom:4px}
.quick-btn{background:none;border:1px solid var(--wa-green);color:var(--wa-green);padding:7px 14px;border-radius:20px;font-size:13.5px;cursor:pointer;font-family:inherit;transition:all .2s}
.quick-btn:hover{background:var(--wa-green);color:white}.quick-btn:active{transform:scale(.95)}
.quick-btn.selected{background:var(--wa-green);color:white}
.input-area{background:#f0f2f5;padding:8px 10px;display:flex;align-items:flex-end;gap:8px;flex-shrink:0}
.text-input-wrap{flex:1;background:white;border-radius:24px;display:flex;align-items:flex-end;padding:6px 14px;min-height:42px;max-height:120px}
#userInput{flex:1;border:none;outline:none;font-size:15px;font-family:inherit;resize:none;max-height:100px;line-height:1.4;color:var(--wa-text);background:transparent}
#userInput::placeholder{color:#8696a0}
.send-btn{width:42px;height:42px;border-radius:50%;border:none;background:var(--wa-green);color:white;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:background .2s,transform .1s}
.send-btn:hover{background:var(--wa-green-dark)}.send-btn:active{transform:scale(.92)}
.icebreaker-card{background:linear-gradient(135deg,#f0faf0,#e8f5e9);border:1px solid #c8e6c9;border-radius:10px;padding:14px;margin-top:8px}
.icebreaker-card h4{font-size:12px;color:var(--wa-green-dark);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px;display:flex;align-items:center;gap:6px}
.icebreaker-msg{font-size:14px;line-height:1.55;color:var(--wa-text);margin-bottom:10px;padding:10px;background:white;border-radius:6px;border-left:3px solid var(--wa-green)}
.card-actions{display:flex;gap:8px;flex-wrap:wrap}
.copy-btn,.wa-btn{display:inline-flex;align-items:center;gap:5px;border:none;padding:6px 14px;border-radius:16px;font-size:12.5px;cursor:pointer;font-family:inherit;transition:all .2s}
.copy-btn{background:var(--wa-green);color:white}.copy-btn:hover{background:var(--wa-green-dark)}.copy-btn.copied{background:#333}
.wa-btn{background:#25d366;color:white;text-decoration:none}.wa-btn:hover{background:#1da851}
.typing-indicator{display:flex;gap:4px;padding:4px 0}
.typing-indicator span{width:7px;height:7px;background:#8696a0;border-radius:50%;animation:typingBounce 1.4s ease-in-out infinite}
.typing-indicator span:nth-child(2){animation-delay:.2s}.typing-indicator span:nth-child(3){animation-delay:.4s}
@keyframes typingBounce{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-6px)}}
.lang-grid{display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-top:8px}
.lang-btn{background:white;border:1.5px solid #e0e0e0;border-radius:10px;padding:10px 8px;text-align:center;cursor:pointer;font-family:inherit;transition:all .2s}
.lang-btn:hover{border-color:var(--wa-green);background:#f0faf0}
.lang-btn .lang-native{font-size:15px;font-weight:600;color:var(--wa-text)}.lang-btn .lang-eng{font-size:11px;color:var(--wa-text-secondary);margin-top:2px}
.new-chat-fab{position:absolute;bottom:76px;right:16px;width:48px;height:48px;border-radius:50%;background:var(--wa-green);color:white;border:none;font-size:22px;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.2);z-index:5;display:none;align-items:center;justify-content:center;transition:transform .2s}
.new-chat-fab:hover{transform:scale(1.08)}.new-chat-fab.show{display:flex}
.encryption-notice{text-align:center;padding:5px;font-size:11.5px;color:#8696a0;background:#fdf4c5;display:flex;align-items:center;justify-content:center;gap:5px;flex-shrink:0}
/* Mode selector */
.mode-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
.mode-btn{background:white;border:2px solid #e0e0e0;border-radius:12px;padding:16px 10px;text-align:center;cursor:pointer;font-family:inherit;transition:all .2s}
.mode-btn:hover{border-color:var(--wa-green);background:#f0faf0;transform:scale(1.02)}
.mode-btn .mode-icon{font-size:28px;margin-bottom:6px}
.mode-btn .mode-title{font-size:14px;font-weight:600;color:var(--wa-text)}
.mode-btn .mode-desc{font-size:11px;color:var(--wa-text-secondary);margin-top:4px}
/* Result cards for product reco */
.reco-card{background:linear-gradient(135deg,#f3f0ff,#ede7f6);border:1px solid #d1c4e9;border-radius:10px;padding:14px;margin-top:8px}
.reco-card.primary{background:linear-gradient(135deg,#e8f5e9,#c8e6c9);border-color:#a5d6a7}
.reco-card.bundle{background:linear-gradient(135deg,#fff3e0,#ffe0b2);border-color:#ffcc80}
.reco-card h4{font-size:12px;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;display:flex;align-items:center;gap:6px}
.reco-card.primary h4{color:#2e7d32}
.reco-card h4{color:#5e35b1}
.reco-card.bundle h4{color:#e65100}
.reco-product{font-size:16px;font-weight:700;color:var(--wa-text);margin-bottom:4px}
.reco-type{font-size:12px;color:var(--wa-text-secondary);margin-bottom:6px}
.reco-explain{font-size:13px;line-height:1.5;color:var(--wa-text);padding:8px;background:white;border-radius:6px;border-left:3px solid #7c4dff}
.reco-card.primary .reco-explain{border-left-color:var(--wa-green)}
.reco-card.bundle .reco-explain{border-left-color:#ff9800}
.snapshot-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px}
.snap-item{background:white;border-radius:8px;padding:10px;text-align:center}
.snap-label{font-size:11px;color:var(--wa-text-secondary)}
.snap-value{font-size:15px;font-weight:700;color:var(--wa-text);margin-top:2px}
.snap-value.green{color:#2e7d32}
.score-bar-wrap{margin-top:4px}
.score-bar{height:6px;background:#e0e0e0;border-radius:3px;overflow:hidden}
.score-bar-fill{height:100%;border-radius:3px;transition:width .6s}
/* Goal toggle buttons */
.goal-toggles{display:flex;flex-direction:column;gap:8px;margin-top:8px}
.goal-toggle{display:flex;align-items:center;gap:10px;background:white;border:1.5px solid #e0e0e0;border-radius:10px;padding:10px 14px;cursor:pointer;font-family:inherit;transition:all .2s;font-size:14px;color:var(--wa-text)}
.goal-toggle.on{border-color:var(--wa-green);background:#f0faf0}
.goal-toggle .toggle-dot{width:20px;height:20px;border-radius:50%;border:2px solid #ccc;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s;font-size:12px}
.goal-toggle.on .toggle-dot{border-color:var(--wa-green);background:var(--wa-green);color:white}
.done-btn{background:var(--wa-green);color:white;border:none;padding:10px 24px;border-radius:20px;font-size:14px;font-weight:600;cursor:pointer;font-family:inherit;margin-top:8px;transition:all .2s;width:100%}
.done-btn:hover{background:var(--wa-green-dark)}
</style>
</head>
<body>
<div class="app-container">
  <div class="chat-header">
    <div class="bot-avatar">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="8" r="4"/><path d="M6 20c0-3.3 2.7-6 6-6s6 2.7 6 6"/><path d="M16 4c1 1.5.8 3.5 0 5"/><path d="M8 4c-1 1.5-.8 3.5 0 5"/>
      </svg>
    </div>
    <div class="bot-info">
      <div class="bot-name">Akash</div>
      <div class="bot-status">Your Insurance Sales Buddy тАв online</div>
    </div>
    <div><button class="header-btn" onclick="resetChat()" title="New Lead">ЁЯФД</button></div>
  </div>
  <div class="encryption-notice">ЁЯФТ Your data is safe. Nothing is stored.</div>
  <div class="chat-area" id="chatArea"></div>
  <button class="new-chat-fab" id="newChatFab" onclick="resetChat()">ЁЯТм</button>
  <div class="input-area">
    <div class="text-input-wrap">
      <textarea id="userInput" rows="1" placeholder="Type a message..." onkeydown="handleKeyDown(event)" oninput="autoGrow(this)"></textarea>
    </div>
    <button class="send-btn" onclick="handleSend()">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
    </button>
  </div>
</div>
<script>
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
// STATE
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
const STATE = { mode: null, step: 'welcome', data: {}, recoData: {}, inputDisabled: false };

// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
// PRODUCT RECOMMENDATION ENGINE (from Excel)
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
const CONFIG = {
  inflationGeneral: 0.06,
  inflationEducation: 0.09,
  inflationMedical: 0.10,
  horizon: 20,
  expenseToIncomeRatio: 0.65,
  coverMultipleMarried: 12,
  coverMultipleSingle: 6,
  goalBufferFactor: 0.35,
  premiumBudgetSoft: 0.08,
  premiumBudgetHard: 0.12,
  coverRoundingStep: 2500000,

  outflowRanges: {
    '< 40k': 30000,
    '40k тАУ 1 lakh': 60000,
    '1 тАУ 1.5 lakhs': 115000,
    '1.5 lakhs +': 200000
  },
  wealthRanges: {
    '< 10L': 500000,
    '10L тАУ 50L': 3000000,
    '50L тАУ 1Cr': 7500000,
    '1Cr тАУ 3Cr': 20000000,
    '3Cr +': 50000000
  },
  goals: {
    'Child education':             { costToday: 1500000, inflationType: 'Education' },
    'Child wedding':               { costToday: 2500000, inflationType: 'General' },
    'Home upgrade':                { costToday: 2000000, inflationType: 'General' },
    'Retirement lifestyle':        { costToday: 10000000, inflationType: 'General' },
    'Medical / parent care':       { costToday: 2500000, inflationType: 'Medical' },
    'Business / entrepreneurship': { costToday: 3000000, inflationType: 'General' }
  },
  productCatalog: {
    'Complete lifestyle support':           { product: 'Digit Glow Plus', explain: 'Complete coverage тАФ term life + critical illness + accident + hospital cash' },
    'Pure regular withdrawal for life':     { product: 'Digit Pension Plan (Annuity) тАФ Coming Soon', explain: 'Standard annuity / retirement income for life' },
    'Hybrid wealth building and drawdown':  { product: 'Digit ICON', explain: 'Long-term non-par savings with regular payouts after 55' },
    'Long term corpus building':            { product: 'ULIP', explain: 'Market-linked plan with riders, 10+ year tenure' },
    'Medium term liquidity':                { product: 'PAR / ULIP', explain: 'Participating plan or medium-term ULIP for liquidity' },
    'Pure goal based in long term':         { product: 'Digit ICON', explain: 'Lump-sum payout with non-par savings and riders' },
    'Basic lifestyle support':              { product: 'Digit Glow Plus', explain: 'Simple term life cover without morbidity riders' }
  }
};

function runRecoEngine(d) {
  const R = {};
  // Resolve midpoints
  R.monthlyOutflow = CONFIG.outflowRanges[d.outflow] || 60000;
  R.wealthMidpoint = CONFIG.wealthRanges[d.wealth] || 3000000;
  R.mindset = d.mindset === 'Live long' ? 1 : 0;
  R.age = d.age || 35;
  R.marital = d.marital || 'Single';
  R.dependents = d.dependents || 0;
  R.carColour = d.carColour || 'White';

  // Derived
  R.annualOutflow = R.monthlyOutflow * 12;
  R.incomeProxy = R.annualOutflow / CONFIG.expenseToIncomeRatio;
  R.wealthToSpend = R.wealthMidpoint / R.annualOutflow;
  R.projectedMonthly20y = R.monthlyOutflow * Math.pow(1 + CONFIG.inflationGeneral, CONFIG.horizon);

  // Future goals
  R.goalDetails = {};
  R.totalGoals = 0;
  const selectedGoals = d.goals || {};
  for (const [goal, cfg] of Object.entries(CONFIG.goals)) {
    if (selectedGoals[goal]) {
      const infRate = cfg.inflationType === 'Education' ? CONFIG.inflationEducation :
                      cfg.inflationType === 'Medical' ? CONFIG.inflationMedical : CONFIG.inflationGeneral;
      const futureCost = cfg.costToday * Math.pow(1 + infRate, CONFIG.horizon);
      R.goalDetails[goal] = futureCost;
      R.totalGoals += futureCost;
    }
  }

  // Protection cover
  const isMarriedOrDep = R.marital === 'Married' || R.dependents > 0;
  const coverMultiple = isMarriedOrDep ? CONFIG.coverMultipleMarried : CONFIG.coverMultipleSingle;
  R.coverBase = R.incomeProxy * coverMultiple;
  R.goalBuffer = R.totalGoals * CONFIG.goalBufferFactor;
  R.coverRaw = R.coverBase + R.goalBuffer;
  R.coverRounded = Math.round(R.coverRaw / CONFIG.coverRoundingStep) * CONFIG.coverRoundingStep;

  // Premium budget
  R.premiumSoft = R.monthlyOutflow * CONFIG.premiumBudgetSoft;
  R.premiumHard = R.monthlyOutflow * CONFIG.premiumBudgetHard;

  // Scoring (7 types, 0тАУ100) тАФ exact Excel formulas
  const hasGoals = R.totalGoals > 0 ? 1 : 0;
  const isMarried = isMarriedOrDep ? 1 : 0;
  const lowWealth = R.wealthToSpend < 3 ? 1 : 0;
  const midWealth = (R.wealthToSpend >= 3 && R.wealthToSpend < 5) ? 1 : 0;
  const highWealth = R.wealthToSpend >= 5 ? 1 : 0;
  const longMind = R.mindset;
  const shortMind = 1 - R.mindset;
  const isRed = R.carColour === 'Red' ? 1 : 0;
  const ageBucket50 = R.age >= 50 ? 20 : (R.age >= 40 ? 10 : 0);
  const ageBucketYoung = R.age <= 35 ? 15 : (R.age <= 45 ? 5 : 0);
  const age55 = R.age >= 55 ? 1 : 0;

  R.scores = {
    'Complete lifestyle support':           Math.min(100, 30 + 25*isMarried + 20*lowWealth + 15*hasGoals + 10*longMind + ageBucket50),
    'Pure regular withdrawal for life':     Math.min(100, 20 + 25*longMind + 25*highWealth + ageBucket50 + 10*age55),
    'Hybrid wealth building and drawdown':  Math.min(100, 25 + 25*longMind + 20*highWealth + 15*hasGoals + ageBucketYoung),
    'Long term corpus building':            Math.min(100, 25 + 25*longMind + 20*midWealth + 20*hasGoals + ageBucketYoung),
    'Medium term liquidity':                Math.min(100, 25 + 25*shortMind + 20*lowWealth + 10*isRed + 10*(hasGoals===0?1:0)),
    'Pure goal based in long term':         Math.min(100, 20 + 35*hasGoals + 25*longMind + 10*midWealth + 10*highWealth + ageBucketYoung),
    'Basic lifestyle support':              Math.min(100, 25 + 25*isMarried + 20*lowWealth + 10*shortMind + 10*hasGoals)
  };

  // Rank
  const sorted = Object.entries(R.scores).sort((a,b) => b[1] - a[1]);
  R.top1 = { type: sorted[0][0], score: sorted[0][1] };
  R.top2 = { type: sorted[1][0], score: sorted[1][1] };
  R.allRanked = sorted;

  // Bundle
  if (isMarriedOrDep) {
    if (R.top1.type === 'Basic lifestyle support' || R.top1.type === 'Complete lifestyle support') {
      R.bundle = R.top1.type + ' + ' + R.top2.type;
    } else {
      R.bundle = 'Basic lifestyle support + ' + R.top1.type;
    }
  } else {
    R.bundle = 'Starter lifestyle support + ' + R.top1.type;
  }

  // Map to products
  R.top1Product = CONFIG.productCatalog[R.top1.type] || {};
  R.top2Product = CONFIG.productCatalog[R.top2.type] || {};

  // Confidence
  R.confidence = 100;
  if (!d.outflow) R.confidence -= 20;
  if (!d.wealth) R.confidence -= 20;
  if (Object.keys(selectedGoals).filter(k => selectedGoals[k]).length === 0) R.confidence -= 15;
  if (!d.marital) R.confidence -= 10;
  R.confidence = Math.max(0, R.confidence);

  return R;
}

// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
// FESTIVAL CALENDAR (2026 accurate, future-only)
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
const FESTIVALS=[{name:'Holi',dates:[[2026,3,10],[2027,2,28]]},{name:'Ugadi / Gudi Padwa',dates:[[2026,3,19],[2027,3,9]]},{name:'Eid ul-Fitr',dates:[[2026,3,20],[2027,3,10]]},{name:'Ram Navami',dates:[[2026,3,28],[2027,3,18]]},{name:'Baisakhi / Vishu',dates:[[2026,4,14],[2027,4,14]]},{name:'Akshaya Tritiya',dates:[[2026,4,26],[2027,4,16]]},{name:'Eid ul-Adha',dates:[[2026,5,27],[2027,5,17]]},{name:'Rath Yatra',dates:[[2026,6,23],[2027,6,13]]},{name:'Raksha Bandhan',dates:[[2026,8,8],[2027,7,29]]},{name:'Independence Day',dates:[[2026,8,15],[2027,8,15]]},{name:'Janmashtami',dates:[[2026,8,15],[2027,8,5]]},{name:'Ganesh Chaturthi',dates:[[2026,8,26],[2027,8,16]]},{name:'Onam',dates:[[2026,9,4],[2027,8,25]]},{name:'Navratri starts',dates:[[2026,9,22],[2027,9,11]]},{name:'Dussehra',dates:[[2026,10,1],[2027,9,21]]},{name:'Karwa Chauth',dates:[[2026,10,11],[2027,10,1]]},{name:'Diwali',dates:[[2026,10,19],[2027,10,8]]},{name:'Bhai Dooj',dates:[[2026,10,21],[2027,10,10]]},{name:'Guru Nanak Jayanti',dates:[[2026,11,8],[2027,10,29]]},{name:'Christmas',dates:[[2026,12,25],[2027,12,25]]},{name:'New Year',dates:[[2027,1,1],[2028,1,1]]},{name:'Makar Sankranti / Pongal',dates:[[2027,1,14],[2028,1,14]]},{name:'Republic Day',dates:[[2027,1,26],[2028,1,26]]},{name:'Maha Shivaratri',dates:[[2027,2,13],[2028,2,2]]}];

function getUpcomingFestivals(){const today=new Date();today.setHours(0,0,0,0);const results=[];FESTIVALS.forEach(f=>{for(const[y,m,d]of f.dates){const fd=new Date(y,m-1,d),diff=Math.ceil((fd-today)/864e5);if(diff>=1&&diff<=90){let tag;if(diff<=7)tag='this week!';else if(diff<=14)tag='next week';else if(diff<=30)tag=`~${Math.ceil(diff/7)} weeks away`;else tag=`~${Math.round(diff/30)} month${diff>45?'s':''} away`;results.push({name:f.name,daysAway:diff,label:`${f.name} (${tag})`});break;}}});results.sort((a,b)=>a.daysAway-b.daysAway);return results.slice(0,5);}

// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
// LANGUAGES & ICEBREAKER SCRIPTS (softened)
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
const LANGUAGES={en:{name:'English',native:'English',flag:'ЁЯЗмЁЯЗз'},hi:{name:'Hindi',native:'рд╣рд┐рдиреНрджреА',flag:'ЁЯЗоЁЯЗ│'},bn:{name:'Bengali',native:'ржмрж╛ржВрж▓рж╛',flag:'ЁЯЗоЁЯЗ│'},ta:{name:'Tamil',native:'родрооро┐ро┤рпН',flag:'ЁЯЗоЁЯЗ│'},te:{name:'Telugu',native:'р░др▒Жр░▓р▒Бр░Чр▒Б',flag:'ЁЯЗоЁЯЗ│'},mr:{name:'Marathi',native:'рдорд░рд╛рдареА',flag:'ЁЯЗоЁЯЗ│'},as:{name:'Assamese',native:'ржЕрж╕ржорзАржпрж╝рж╛',flag:'ЁЯЗоЁЯЗ│'},gu:{name:'Gujarati',native:'ркЧрлБркЬрк░рк╛ркдрлА',flag:'ЁЯЗоЁЯЗ│'}};

const SCRIPTS = {
family_young_married: {
  en: [
    "Hi {name}, congratulations on your new life! ЁЯОЙ I help newly married couples plan for each other's financial safety тАФ it's something most people don't think about early on. If you ever have a few free minutes, I'd love to share some useful ideas. Only if you're comfortable, of course!",
    "Hello {name}! I work with many young couples on one important thing тАФ making sure both partners are financially covered for each other. Whenever it's convenient for you, I'd really appreciate a short conversation. No rush at all!",
    "Hi {name}, hope married life is going great! ЁЯШК Many young couples I've spoken with say they're glad they had a small chat about protecting each other's future. If you're open to it, I'd love to have a similar conversation with you sometime тАФ completely at your convenience."
  ],
  hi: [
    "рдирдорд╕реНрддреЗ {name} рдЬреА! рд╢рд╛рджреА рдХреА рдмрд╣реБрдд-рдмрд╣реБрдд рдмрдзрд╛рдИ! ЁЯОЙ рдореИрдВ newly married couples рдХреЛ рдПрдХ-рджреВрд╕рд░реЗ рдХреА financial safety plan рдХрд░рдиреЗ рдореЗрдВ help рдХрд░рддрд╛ рд╣реВрдБред рдЕрдЧрд░ рдХрднреА рдЖрдкрдХреЗ рдкрд╛рд╕ рдХреБрдЫ рдорд┐рдирдЯ рд╣реЛрдВ, рддреЛ рдХреБрдЫ рдХрд╛рдо рдХреА рдмрд╛рддреЗрдВ share рдХрд░рдирд╛ рдЪрд╛рд╣реВрдБрдЧрд╛ред рдмрд┐рд▓рдХреБрд▓ рдЖрдкрдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░!",
    "рд╣реЗрд▓реЛ {name} рдЬреА! рдореИрдВ рдХрдИ young couples рдХреЗ рд╕рд╛рде рдПрдХ рдЬрд╝рд░реВрд░реА рдЪреАрдЬрд╝ рдкрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реВрдБ тАФ рдПрдХ-рджреВрд╕рд░реЗ рдХреА financial securityред рдЬрдм рднреА рдЖрдкрдХреЛ рд╕реБрд╡рд┐рдзрд╛ рд╣реЛ, рдПрдХ рдЫреЛрдЯреА рд╕реА рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣реВрдБрдЧрд╛ред рдХреЛрдИ рдЬрд▓реНрджреА рдирд╣реАрдВ рд╣реИ!"
  ],
  bn:["ржиржорж╕рзНржХрж╛рж░ {name}! ржирждрзБржи ржЬрзАржмржирзЗрж░ рж╢рзБржнрзЗржЪрзНржЫрж╛! ЁЯОЙ ржЖржорж┐ newly married couples-ржХрзЗ financial safety plan ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рж┐ред ржЖржкржирж╛рж░ ржпржЦржи рж╕рзБржмрж┐ржзрж╛ рж╣ржпрж╝, ржХрж┐ржЫрзБ ржХрж╛ржЬрзЗрж░ ржХржерж╛ share ржХрж░рждрзЗ ржЪрж╛ржЗред рж╕ржорзНржкрзВрж░рзНржг ржЖржкржирж╛рж░ рж╕рзБржмрж┐ржзрж╛ржорждрзЛ!"],
  ta:["ро╡рогроХрпНроХроорпН {name}! рокрпБродро┐роп ро╡ро╛ро┤рпНроХрпНроХрпИроХрпНроХрпБ ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН! ЁЯОЙ роиро╛ройрпН newly married couples-роХрпНроХрпБ financial safety plan роЪрпЖропрпНроп роЙродро╡рпБроХро┐ро▒рпЗройрпН. роЙроЩрпНроХро│рпБроХрпНроХрпБ ро╡роЪродро┐ропро╛рой роирпЗро░родрпНродро┐ро▓рпН роЪро┐ро▒ро┐родрпБ роирпЗро░роорпН рокрпЗроЪро▓ро╛рооро╛? роОроирпНрод роЕро╡роЪро░роорпБроорпН роЗро▓рпНро▓рпИ!"],
  te:["р░ир░ор░╕р▒Нр░Хр░╛р░░р░В {name}! р░Хр▒Кр░др▒Нр░д р░Ьр▒Ар░╡р░┐р░др░╛р░ир░┐р░Хр░┐ р░╢р▒Бр░нр░╛р░Хр░╛р░Вр░Хр▒Нр░╖р░▓р▒Б! ЁЯОЙ р░ир▒Зр░ир▒Б newly married couples-р░Хр░┐ financial safety plan р░Ър▒Зр░пр░бр░Вр░▓р▒Л р░╕р░╣р░╛р░пр░В р░Ър▒Зр░╕р▒Нр░др░╛р░ир▒Б. р░ор▒Ар░Хр▒Б р░Ер░ир▒Бр░╡р▒Ир░и р░╕р░ор░пр░Вр░▓р▒Л share р░Ър▒Зр░пр░╛р░▓р░ир▒Бр░Хр▒Бр░Вр░Яр▒Бр░ир▒Нр░ир░╛р░ир▒Б. р░П р░др▒Кр░Вр░жр░░р░╛ р░▓р▒Зр░жр▒Б!"],
  mr:["рдирдорд╕реНрдХрд╛рд░ {name}! рд▓рдЧреНрдирд╛рдЪреНрдпрд╛ рд╢реБрднреЗрдЪреНрдЫрд╛! ЁЯОЙ рдореА рдирд╡рд╡рд┐рд╡рд╛рд╣рд┐рдд рдЬреЛрдбрдкреНрдпрд╛рдВрдирд╛ financial safety plan рдХрд░рд╛рдпрд▓рд╛ рдорджрдд рдХрд░рддреЛ. рддреБрдореНрд╣рд╛рд▓рд╛ рд╕реЛрдпреАрдЪрдВ рдЕрд╕реЗрд▓ рддреЗрд╡реНрд╣рд╛ рдХрд╛рд╣реА рдЙрдкрдпреБрдХреНрдд рдЧреЛрд╖реНрдЯреА share рдХрд░рд╛рдпрд▓рд╛ рдЖрд╡рдбреЗрд▓. рдХреЛрдгрддреАрд╣реА рдШрд╛рдИ рдирд╛рд╣реА!"],
  as:["ржиржорж╕рзНржХрж╛рз░ {name}! ржирждрзБржи ржЬрзАрз▒ржирз░ рж╢рзБржнрзЗржЪрзНржЫрж╛! ЁЯОЙ ржоржЗ newly married ржжржорзНржкрждрзАржХ financial safety plan ржХрз░рж╛ржд рж╕рж╣рж╛ржпрж╝ ржХрз░рзЛржБред ржЖржкрзЛржирж╛рз░ ржпрзЗрждрж┐ржпрж╝рж╛ рж╕рзБржмрж┐ржзрж╛ рж╣ржпрж╝ ржХржерж╛ ржкрж╛рждрж┐ржм ржмрж┐ржЪрж╛рз░рзЛржБред ржХрзЛржирзЛ ржЦрз░ржЦрз░рзАржпрж╝рж╛ ржирж╛ржЗ!"],
  gu:["ркиркорк╕рлНркдрлЗ {name}! рк▓ркЧрлНркиркирлА рк╢рлБркнрлЗркЪрлНркЫрк╛! ЁЯОЙ рк╣рлБркВ newly married couples-ркирлЗ financial safety plan ркХрк░рк╡рк╛ркорк╛ркВ ркоркжркж ркХрк░рлБркВ ркЫрлБркВ. ркдркоркирлЗ ркЕркирлБркХрлВрк│ рк╣рлЛркп ркдрлНркпрк╛рк░рлЗ share ркХрк░рк╡рк╛ ркИркЪрлНркЫрлБркВ ркЫрлБркВ. ркХрлЛркИ ркЙркдрк╛рк╡рк│ ркиркерлА!"]
},
family_with_kids: {
  en: [
    "Hi {name}, as a parent I'm sure your child's future is always on your mind. I help families make sure their kids' education is taken care of no matter what happens. If you're open to it, I'd love to share what other parents have found helpful тАФ whenever it suits you.",
    "Hello {name}! Many parents I've worked with had just one worry тАФ \"Is my child's future safe?\" I help them get that peace of mind. If you ever feel like having a short chat about this, I'm always available at your convenience.",
    "Hi {name}, a lot of {occupation} parents have told me that one small conversation gave them complete peace about their child's future. If you'd like, I'd be happy to have a similar chat with you too тАФ no pressure at all."
  ],
  hi:["рдирдорд╕реНрддреЗ {name} рдЬреА! рдПрдХ parent рд╣реЛрдиреЗ рдХреЗ рдирд╛рддреЗ рдмрдЪреНрдЪреЛрдВ рдХрд╛ future рд╣рдореЗрд╢рд╛ рджрд┐рдорд╛рдЧ рдореЗрдВ рд░рд╣рддрд╛ рд╣реИред рдореИрдВ families рдХреА help рдХрд░рддрд╛ рд╣реВрдБ рдХрд┐ рдмрдЪреНрдЪреЛрдВ рдХреА рдкрдврд╝рд╛рдИ рдХрд╛ рдЗрдВрддреЗрдЬрд╝рд╛рдо рд╣реЛ рдЬрд╛рдПред рдЕрдЧрд░ рдЖрдк рдЪрд╛рд╣реЗрдВ рддреЛ рдмрддрд╛ рд╕рдХрддрд╛ рд╣реВрдБ рдмрд╛рдХреА parents рдХреНрдпрд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ тАФ рдкреВрд░реА рддрд░рд╣ рдЖрдкрдХреА рд╕реБрд╡рд┐рдзрд╛ рдЕрдиреБрд╕рд╛рд░ред","рд╣реЗрд▓реЛ {name} рдЬреА! рдмрд╣реБрдд рд╕реЗ {occupation} parents рдиреЗ рдХрд╣рд╛ рдХрд┐ рдПрдХ рдЫреЛрдЯреА рд╕реА рдмрд╛рддрдЪреАрдд рд╕реЗ рдмрдЪреНрдЪреЗ рдХреЗ future рдХреЛ рд▓реЗрдХрд░ рдкреВрд░рд╛ chain рд╣реЛ рдЧрдпрд╛ред рдЕрдЧрд░ рдЖрдкрдХреЛ рднреА рдареАрдХ рд▓рдЧреЗ, рддреЛ рдРрд╕реА рд╣реА рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣реВрдБрдЧрд╛ тАФ рдХреЛрдИ pressure рдирд╣реАрдВред"],
  bn:["ржиржорж╕рзНржХрж╛рж░ {name}! рж╕ржирзНрждрж╛ржирзЗрж░ ржнржмрж┐рж╖рзНржпрзО рж╕ржмрж╕ржоржпрж╝ ржорж╛ржерж╛ржпрж╝ ржерж╛ржХрзЗред ржмрж╛ржЪрзНржЪрж╛ржжрзЗрж░ ржкржбрж╝рж╛рж╢рзЛржирж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ рж╣рзЛржХ рж╕рзЗржЬржирзНржп рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рж┐ред ржЖржкржирж╛рж░ ржпржЦржи ржЗржЪрзНржЫрж╛ рж╣ржпрж╝ ржХржерж╛ ржмрж▓рждрзЗ ржкрж╛рж░рж┐ тАФ рж╕ржорзНржкрзВрж░рзНржг ржЖржкржирж╛рж░ рж╕рзБржмрж┐ржзрж╛ржорждрзЛред"],
  ta:["ро╡рогроХрпНроХроорпН {name}! роХрпБро┤роирпНродрпИропро┐ройрпН роОродро┐ро░рпНроХро╛ро▓роорпН роОрокрпНрокрпЛродрпБроорпН роиро┐ройрпИро╡ро┐ро▓рпН роЗро░рпБроХрпНроХрпБроорпН роОройрпНро▒рпБ родрпЖро░ро┐ропрпБроорпН. роХрпБро┤роирпНродрпИроХро│ро┐ройрпН рокроЯро┐рокрпНрокрпБ safe-роЖроХ роЗро░рпБроХрпНроХ роЙродро╡рпБроХро┐ро▒рпЗройрпН. роЙроЩрпНроХро│рпБроХрпНроХрпБ ро╡ро┐ро░рпБрокрпНрокрооро┐ро░рпБроирпНродро╛ро▓рпН share роЪрпЖропрпНроп ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпЗройрпН тАФ роОроирпНрод роЕро╡роЪро░роорпБроорпН роЗро▓рпНро▓рпИ."],
  te:["р░ир░ор░╕р▒Нр░Хр░╛р░░р░В {name}! р░кр░┐р░▓р▒Нр░▓р░▓ р░нр░╡р░┐р░╖р▒Нр░пр░др▒Нр░др▒Б р░Ор░кр▒Нр░кр▒Бр░бр▒В р░ор░ир░╕р▒Бр░▓р▒Л р░Йр░Вр░Яр▒Бр░Вр░жр░┐. р░кр░┐р░▓р▒Нр░▓р░▓ р░Ър░жр▒Бр░╡р▒Б safe-р░Чр░╛ р░Йр░Вр░бр▒Зр░▓р░╛ р░╕р░╣р░╛р░пр░В р░Ър▒Зр░╕р▒Нр░др░╛р░ир▒Б. р░ор▒Ар░Хр▒Б р░Зр░╖р▒Нр░Яр░ор▒Ир░др▒З share р░Ър▒Зр░пр░Чр░▓р░ир▒Б тАФ р░П р░др▒Кр░Вр░жр░░р░╛ р░▓р▒Зр░жр▒Б."],
  mr:["рдирдорд╕реНрдХрд╛рд░ {name}! рдореБрд▓рд╛рдВрдЪрдВ рднрд╡рд┐рд╖реНрдп рдиреЗрд╣рдореА рдбреЛрдХреНрдпрд╛рдд рдЕрд╕рддрдВ. рдореБрд▓рд╛рдВрдЪреНрдпрд╛ рд╢рд┐рдХреНрд╖рдгрд╛рдЪреА рд╡реНрдпрд╡рд╕реНрдерд╛ рд╣реЛрдгреНрдпрд╛рд╕рд╛рдареА рдорджрдд рдХрд░рддреЛ. рддреБрдореНрд╣рд╛рд▓рд╛ рдареАрдХ рд╡рд╛рдЯрд▓рдВ рддрд░ рд╕рд╛рдВрдЧрд╛рдпрд▓рд╛ рдЖрд╡рдбреЗрд▓ тАФ рдХреЛрдгрддреАрд╣реА рдШрд╛рдИ рдирд╛рд╣реА."],
  as:["ржиржорж╕рзНржХрж╛рз░ {name}! рж╕ржирзНрждрж╛ржирз░ ржнрз▒рж┐рж╖рзНржпржд рж╕ржжрж╛ржпрж╝ ржоржиржд ржерж╛ржХрзЗред ржкржврж╝рж╛рж╢рзБржирж╛рз░ ржмрзНржпрз▒рж╕рзНржерж╛ рж╣рзЛрз▒рж╛ржд рж╕рж╣рж╛ржпрж╝ ржХрз░рзЛржБред ржЖржкрзЛржирж╛рз░ ржпрзЗрждрж┐ржпрж╝рж╛ ржЗржЪрзНржЫрж╛ рж╣ржпрж╝ ржХржерж╛ ржкрж╛рждрж┐ржм ржкрж╛рз░рзЛржБ тАФ ржХрзЛржирзЛ ржЦрз░ржЦрз░рзАржпрж╝рж╛ ржирж╛ржЗред"],
  gu:["ркиркорк╕рлНркдрлЗ {name}! ркмрк╛рк│ркХрлЛркирлБркВ ркнрк╡рк┐рк╖рлНркп рк╣ркВркорлЗрк╢рк╛ ркоркиркорк╛ркВ рк░рк╣рлЗ ркЫрлЗ. ркнркгркдрк░ркирлА рк╡рлНркпрк╡рк╕рлНркерк╛ ркерк╛ркп ркПркорк╛ркВ ркоркжркж ркХрк░рлБркВ ркЫрлБркВ. ркдркоркирлЗ ркарлАркХ рк▓рк╛ркЧрлЗ ркдрлНркпрк╛рк░рлЗ share ркХрк░рк╡рк╛ ркИркЪрлНркЫрлБркВ ркЫрлБркВ тАФ ркХрлЛркИ ркЙркдрк╛рк╡рк│ ркиркерлА."]
},
tax_saving: {
  en: [
    "Hi {name}! Tax season is coming up and many {occupation} people I've worked with were pleasantly surprised by how much they could save. If you'd like, I'd be happy to share some useful information тАФ completely at your convenience, no commitment at all.",
    "Hello {name}! Most {occupation} people don't know the full tax benefits available to them. If you're ever interested, I'd love to share тАФ just let me know whenever it suits you."
  ],
  hi:["рдирдорд╕реНрддреЗ {name} рдЬреА! Tax season рдЖ рд░рд╣рд╛ рд╣реИ рдФрд░ рдмрд╣реБрдд рд╕реЗ {occupation} рд▓реЛрдЧ рд╣реИрд░рд╛рди рд╣реЛрддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рддрдирд╛ рдмрдЪрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдЕрдЧрд░ рдЖрдк рдЪрд╛рд╣реЗрдВ рддреЛ рдХреБрдЫ рдХрд╛рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА share рдХрд░ рд╕рдХрддрд╛ рд╣реВрдБ тАФ рдкреВрд░реА рддрд░рд╣ рдЖрдкрдХреА рд╕реБрд╡рд┐рдзрд╛ рдЕрдиреБрд╕рд╛рд░ред"],
  bn:["ржиржорж╕рзНржХрж╛рж░ {name}! Tax season ржЖрж╕ржЫрзЗ ржЖрж░ ржЕржирзЗржХ {occupation} ржорж╛ржирзБрж╖ ржЬрзЗржирзЗ ржЕржмрж╛ржХ рж╣ржи ржХрждржЯрж╛ ржмрж╛ржБржЪрж╛рждрзЗ ржкрж╛рж░рзЗржиред ржЖржкржирж┐ ржЪрж╛ржЗрж▓рзЗ share ржХрж░рждрзЗ ржкрж╛рж░рж┐ тАФ рж╕ржорзНржкрзВрж░рзНржг ржЖржкржирж╛рж░ рж╕рзБржмрж┐ржзрж╛ржорждрзЛред"],
  ta:["ро╡рогроХрпНроХроорпН {name}! Tax season ро╡ро░рокрпНрокрпЛроХро┐ро▒родрпБ. рокро▓ {occupation} роороХрпНроХро│рпН роОро╡рпНро╡ро│ро╡рпБ роЪрпЗрооро┐роХрпНроХ роорпБроЯро┐ропрпБроорпН роОройрпНрокродро┐ро▓рпН роЖроЪрпНроЪро░ро┐ропрокрпНрокроЯрпБроХро┐ро▒ро╛ро░рпНроХро│рпН. ро╡ро┐ро░рпБроорпНрокро┐ройро╛ро▓рпН share роЪрпЖропрпНроп роороХро┐ро┤рпНроЪрпНроЪро┐ тАФ commitment роЗро▓рпНро▓рпИ."],
  te:["р░ир░ор░╕р▒Нр░Хр░╛р░░р░В {name}! Tax season р░╡р░╕р▒Нр░др▒Лр░Вр░жр░┐. р░Ър░╛р░▓р░╛ р░ор░Вр░жр░┐ {occupation} р░╡р░╛р░░р▒Б р░Ор░Вр░д р░Жр░жр░╛ р░Ър▒Зр░пр░╡р░Ър▒Нр░Ър▒Л р░др▒Жр░▓р░┐р░╕р░┐ р░Жр░╢р▒Нр░Ър░░р▒Нр░пр░кр▒Лр░др░╛р░░р▒Б. р░ор▒Ар░Хр▒Б р░Зр░╖р▒Нр░Яр░ор▒Ир░др▒З share р░Ър▒Зр░пр░Чр░▓р░ир▒Б тАФ commitment р░▓р▒Зр░жр▒Б."],
  mr:["рдирдорд╕реНрдХрд╛рд░ {name}! Tax season рдпреЗрддреЛрдп. рдмрд░реЗрдЪ {occupation} рд▓реЛрдХ рдХрд┐рддреА рд╡рд╛рдЪрд╡реВ рд╢рдХрддрд╛рдд рдРрдХреВрди рдЖрд╢реНрдЪрд░реНрдпрдЪрдХрд┐рдд рд╣реЛрддрд╛рдд. рдареАрдХ рд╡рд╛рдЯрд▓рдВ рддрд░ share рдХрд░рд╛рдпрд▓рд╛ рдЖрд╡рдбреЗрд▓ тАФ commitment рдирд╛рд╣реА."],
  as:["ржиржорж╕рзНржХрж╛рз░ {name}! Tax season ржЖрж╣рж┐ржЫрзЗред ржмрж╣рзБ {occupation} ржорж╛ржирзБрж╣рзЗ ржЬрж╛ржирж┐ ржЖржЪрз░рж┐ржд рж╣ржпрж╝ ржХрж┐ржорж╛ржи рж╕ржЮрзНржЪржпрж╝ ржХрз░рж┐ржм ржкрж╛рз░рзЗред ржмрж┐ржЪрж╛рз░рж┐рж▓рзЗ share ржХрз░рж┐ржм ржкрж╛рз░рзЛржБ тАФ commitment ржирж╛ржЗред"],
  gu:["ркиркорк╕рлНркдрлЗ {name}! Tax season ркЖрк╡рлА рк░рк╣рлНркпрлЛ ркЫрлЗ. ркШркгрк╛ {occupation} рк▓рлЛркХрлЛ ркЬрк╛ркгрлАркирлЗ ркЖрк╢рлНркЪрк░рлНркп рккрк╛ркорлЗ ркЫрлЗ. ркарлАркХ рк▓рк╛ркЧрлЗ ркдрлЛ share ркХрк░рк╡рк╛ ркИркЪрлНркЫрлБркВ ркЫрлБркВ тАФ commitment ркирк╣рлАркВ."]
},
retirement: {
  en: [
    "Hi {name}, I know retirement feels far away at {age} тАФ but the people who started planning early are the most relaxed today. I work with {occupation} people on this. If you'd ever like to explore this, I'm happy to have a small chat тАФ completely at your convenience.",
    "Hello {name}! I recently spoke with a {occupation} person your age who said тАФ \"I wish someone had this conversation with me 5 years ago.\" If you're open to it, we could have a brief chat sometime тАФ no rush at all."
  ],
  hi:["рдирдорд╕реНрддреЗ {name} рдЬреА! {age} рд╕рд╛рд▓ рдореЗрдВ retirement рджреВрд░ рд▓рдЧрддреА рд╣реИ тАФ рд▓реЗрдХрд┐рди рдЬрд┐рди рд▓реЛрдЧреЛрдВ рдиреЗ рдЬрд▓реНрджреА рд╢реБрд░реВ рдХрд┐рдпрд╛ рд╡реЛ рдЖрдЬ tension-free рд╣реИрдВред рдЕрдЧрд░ рдХрднреА рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВ, рддреЛ рдореБрдЭреЗ рдЦреБрд╢реА рд╣реЛрдЧреА тАФ рдкреВрд░реА рддрд░рд╣ рдЖрдкрдХреА рд╕реБрд╡рд┐рдзрд╛ рдЕрдиреБрд╕рд╛рд░ред"],
  bn:["ржиржорж╕рзНржХрж╛рж░ {name}! {age} ржмржЫрж░рзЗ retirement ржжрзВрж░ ржоржирзЗ рж╣ржпрж╝ тАФ ржХрж┐ржирзНрждрзБ ржпрж╛рж░рж╛ ржЖржЧрзЗ рж╢рзБрж░рзБ ржХрж░рзЗржЫрзЗржи рждрж╛рж░рж╛ tension-freeред ржЖржкржирж╛рж░ ржЗржЪрзНржЫрж╛ рж╣рж▓рзЗ ржХржерж╛ ржмрж▓рждрзЗ ржкрж╛рж░рж┐ тАФ ржХрзЛржирзЛ рждрж╛ржбрж╝рж╛рж╣рзБржбрж╝рзЛ ржирзЗржЗред"],
  ta:["ро╡рогроХрпНроХроорпН {name}! {age} ро╡ропродро┐ро▓рпН retirement родрпВро░рооро╛роХ родрпЛройрпНро▒рпБроорпН тАФ роЖройро╛ро▓рпН роЪрпАроХрпНроХро┐ро░роорпН родрпКроЯроЩрпНроХро┐ропро╡ро░рпНроХро│рпН роиро┐роорпНроородро┐ропро╛роХ роЗро░рпБроХрпНроХро┐ро▒ро╛ро░рпНроХро│рпН. ро╡ро┐ро░рпБрокрпНрокрооро┐ро░рпБроирпНродро╛ро▓рпН рокрпЗроЪро▓ро╛роорпН тАФ роЕро╡роЪро░роорпН роЗро▓рпНро▓рпИ."],
  te:["р░ир░ор░╕р▒Нр░Хр░╛р░░р░В {name}! {age} р░Пр░│р▒Нр░▓р░▓р▒Л retirement р░жр▒Вр░░р░Вр░Чр░╛ р░Ер░ир░┐р░кр░┐р░╕р▒Нр░др▒Бр░Вр░жр░┐ тАФ р░Хр░╛р░ир▒А р░ор▒Бр░Вр░жр▒Бр░Чр░╛ р░ор▒Кр░жр░▓р▒Бр░кр▒Жр░Яр▒Нр░Яр░┐р░ир░╡р░╛р░░р▒Б tension-free. р░Зр░╖р▒Нр░Яр░ор▒Ир░др▒З р░ор░╛р░Яр▒Нр░▓р░╛р░бр░Чр░▓р░ор▒Б тАФ р░др▒Кр░Вр░жр░░ р░▓р▒Зр░жр▒Б."],
  mr:["рдирдорд╕реНрдХрд╛рд░ {name}! {age} рд╡рд░реНрд╖рд╛рдВрдд retirement рджреВрд░ рд╡рд╛рдЯрддрдВ тАФ рдкрдг рд▓рд╡рдХрд░ рд╕реБрд░реВ рдХреЗрд▓реЗрд▓реЗ tension-free рдЖрд╣реЗрдд. рдареАрдХ рд╡рд╛рдЯрд▓рдВ рддреЗрд╡реНрд╣рд╛ рдмреЛрд▓реВ тАФ рдШрд╛рдИ рдирд╛рд╣реА."],
  as:["ржиржорж╕рзНржХрж╛рз░ {name}! {age} ржмржЫрз░ржд retirement ржжрзВрз░рз░ ржХржерж╛ рж▓рж╛ржЧрзЗ тАФ ржХрж┐ржирзНрждрзБ ржЖржЧрждрзАржпрж╝рж╛ржХрзИ ржЖрз░ржорзНржн ржХрз░рж╛рж╕ржХрж▓ tension-freeред ржЗржЪрзНржЫрж╛ рж╣'рж▓рзЗ ржХржерж╛ ржкрж╛рждрж┐ржм ржкрж╛рз░рзЛржБ тАФ ржЦрз░ржЦрз░рзАржпрж╝рж╛ ржирж╛ржЗред"],
  gu:["ркиркорк╕рлНркдрлЗ {name}! {age} рк╡рк░рлНрк╖рлЗ retirement ркжрлВрк░ркирлБркВ рк▓рк╛ркЧрлЗ тАФ рккркг рк╡рк╣рлЗрк▓рлБркВ рк╢рк░рлВ ркХрк░ркирк╛рк░рк╛ tension-free ркЫрлЗ. ркарлАркХ рк▓рк╛ркЧрлЗ ркдрлНркпрк╛рк░рлЗ рк╡рк╛ркд ркеркИ рк╢ркХрлЗ тАФ ркЙркдрк╛рк╡рк│ ркиркерлА."]
},
health_angle: {
  en: [
    "Hi {name}, hope you're keeping well! I talk to a lot of {occupation} people about something most of us tend to put off тАФ being ready for unexpected medical expenses. If you'd ever like to have a small chat about it, I'm here. Completely at your convenience!",
    "Hello {name}! Many people say their biggest worry isn't the hospital bill тАФ it's how it affects the family's savings. I help people plan for this. If you're ever interested, I'd be happy to share тАФ no pressure at all."
  ],
  hi:["рдирдорд╕реНрддреЗ {name} рдЬреА! рдмрд╣реБрдд рд╕реЗ {occupation} рд▓реЛрдЧреЛрдВ рд╕реЗ рдПрдХ рдмрд╛рдд рдкрд░ рдмрд╛рдд рдХрд░рддрд╛ рд╣реВрдБ рдЬреЛ рд╣рдо рдЯрд╛рд▓рддреЗ рд░рд╣рддреЗ рд╣реИрдВ тАФ medical рдЦрд░реНрдЪреЛрдВ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд░рд╣рдирд╛ред рдЕрдЧрд░ рдХрднреА рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВ, рддреЛ рдореИрдВ available рд╣реВрдБред рдЖрдкрдХреА рд╕реБрд╡рд┐рдзрд╛ рдЕрдиреБрд╕рд╛рд░!"],
  bn:["ржиржорж╕рзНржХрж╛рж░ {name}! ржЕржирзЗржХ {occupation} ржорж╛ржирзБрж╖рзЗрж░ рж╕рж╛ржерзЗ ржПржХржЯрж╛ ржмрж┐рж╖ржпрж╝рзЗ ржХржерж╛ ржмрж▓рж┐ ржпрзЗржЯрж╛ ржЖржорж░рж╛ ржПржбрж╝рж┐ржпрж╝рзЗ ржпрж╛ржЗ тАФ medical ржЦрж░ржЪрзЗрж░ ржЬржирзНржп рждрзИрж░рж┐ ржерж╛ржХрж╛ред ржЗржЪрзНржЫрж╛ рж╣рж▓рзЗ ржХржерж╛ ржмрж▓рждрзЗ ржкрж╛рж░рж┐ тАФ рж╕ржорзНржкрзВрж░рзНржг ржЖржкржирж╛рж░ рж╕рзБржмрж┐ржзрж╛ржорждрзЛ!"],
  ta:["ро╡рогроХрпНроХроорпН {name}! рокро▓ {occupation} роороХрпНроХро│ро┐роЯроорпН роиро╛роорпН родро│рпНро│ро┐рокрпНрокрпЛроЯрпБроорпН роТро░рпБ ро╡ро┐ро╖ропроорпН рокро▒рпНро▒ро┐ рокрпЗроЪрпБроХро┐ро▒рпЗройрпН тАФ medical роЪрпЖро▓ро╡рпБроХро│рпБроХрпНроХрпБ родропро╛ро░ро╛роХ роЗро░рпБрокрпНрокродрпБ. ро╡ро┐ро░рпБрокрпНрокрооро┐ро░рпБроирпНродро╛ро▓рпН роиро╛ройрпН роЗро░рпБроХрпНроХро┐ро▒рпЗройрпН тАФ роЕро╡роЪро░роорпН роЗро▓рпНро▓рпИ!"],
  te:["р░ир░ор░╕р▒Нр░Хр░╛р░░р░В {name}! р░Ър░╛р░▓р░╛ р░ор░Вр░жр░┐ {occupation} р░╡р░╛р░░р░┐р░др▒Л р░Тр░Х р░╡р░┐р░╖р░пр░В р░Чр▒Бр░░р░┐р░Вр░Ър░┐ р░ор░╛р░Яр▒Нр░▓р░╛р░бр░др░╛р░ир▒Б тАФ medical р░Цр░░р▒Нр░Ър▒Бр░▓р░Хр▒Б р░╕р░┐р░жр▒Нр░зр░Вр░Чр░╛ р░Йр░Вр░бр░Яр░В. р░Зр░╖р▒Нр░Яр░ор▒Ир░др▒З р░ир▒Зр░ир▒Б р░Йр░ир▒Нр░ир░╛р░ир▒Б тАФ р░др▒Кр░Вр░жр░░ р░▓р▒Зр░жр▒Б!"],
  mr:["рдирдорд╕реНрдХрд╛рд░ {name}! рдЕрдиреЗрдХ {occupation} рд▓реЛрдХрд╛рдВрд╢реА рдПрдХрд╛ рдЧреЛрд╖реНрдЯреАрд╡рд░ рдмреЛрд▓рддреЛ рдЬреА рд╕рдЧрд│реЗ рдкреБрдвреЗ рдврдХрд▓рддрд╛рдд тАФ medical рдЦрд░реНрдЪрд╛рд╕рд╛рдареА рддрдпрд╛рд░ рд░рд╛рд╣рдгреЗ. рд╡рд╛рдЯрд▓рдВ рддрд░ рдореА рдЙрдкрд▓рдмреНрдз рдЖрд╣реЗ тАФ рдШрд╛рдИ рдирд╛рд╣реА!"],
  as:["ржиржорж╕рзНржХрж╛рз░ {name}! ржмрж╣рзБ {occupation} ржорж╛ржирзБрж╣рз░ рж╕рзИрждрзЗ ржПржЯрж╛ ржмрж┐рж╖ржпрж╝ржд ржХржерж╛ ржкрж╛рждрзЛржБ тАФ medical ржЦрз░ржЪрз░ ржмрж╛ржмрзЗ ржкрзНрз░рж╕рзНрждрзБржд ржержХрж╛ред ржЗржЪрзНржЫрж╛ рж╣'рж▓рзЗ ржоржЗ ржЖржЫрзЛржБ тАФ ржЦрз░ржЦрз░рзАржпрж╝рж╛ ржирж╛ржЗ!"],
  gu:["ркиркорк╕рлНркдрлЗ {name}! ркШркгрк╛ {occupation} рк▓рлЛркХрлЛ рк╕рк╛ркерлЗ ркПркХ рк╡рк╛ркд ркХрк░рлБркВ ркЫрлБркВ ркЬрлЗ ркмркзрк╛ ркЯрк╛рк│рлЗ ркЫрлЗ тАФ medical ркЦрк░рлНркЪ ркорк╛ркЯрлЗ ркдрлИркпрк╛рк░ рк░рк╣рлЗрк╡рлБркВ. ркарлАркХ рк▓рк╛ркЧрлЗ ркдрлЛ рк╣рлБркВ ркЙрккрк▓ркмрлНркз ркЫрлБркВ тАФ ркЙркдрк╛рк╡рк│ ркиркерлА!"]
},
festival_occasion: {
  en: [
    "Hi {name}, wishing you and your family a very happy {occasion}! ЁЯЩП Many families use this special time to think about something meaningful for their loved ones' future. If you'd ever be interested in a friendly conversation about this, I'd be happy to connect тАФ whenever it suits you after the celebrations!",
    "Hello {name}! Happy {occasion}! ЁЯОЙ A lot of people use this special time to start something good for their family. If you'd like, I'd love to share a few ideas sometime тАФ you pick the time, absolutely no rush.",
    "Hi {name}, {occasion} greetings to you and your family! ЁЯЩП This is a beautiful time to think about your loved ones' future. If the thought interests you, I'd be happy to have a friendly chat sometime after {occasion} тАФ only if you're comfortable!"
  ],
  hi:["рдирдорд╕реНрддреЗ {name} рдЬреА! {occasion} рдХреА рдвреЗрд░ рд╕рд╛рд░реА рд╢реБрднрдХрд╛рдордирд╛рдПрдВ! ЁЯЩП рдмрд╣реБрдд рд╕реЗ рд▓реЛрдЧ рдЗрд╕ рдореМрдХреЗ рдкрд░ рдЕрдкрдиреЛрдВ рдХреЗ future рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдЕрдЪреНрдЫрд╛ рд╕реЛрдЪрддреЗ рд╣реИрдВред рдЕрдЧрд░ рдХрднреА рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВ, рддреЛ рдореБрдЭреЗ рдЦреБрд╢реА рд╣реЛрдЧреА тАФ {occasion} рдХреЗ рдмрд╛рдж рдЬрдм рднреА рд╕реБрд╡рд┐рдзрд╛ рд╣реЛ!","рд╣реЗрд▓реЛ {name} рдЬреА! {occasion} рдореБрдмрд╛рд░рдХ! ЁЯОЙ рдмрд╣реБрдд рд╕реЗ рд▓реЛрдЧ рдЗрд╕ рдЦрд╛рд╕ рдореМрдХреЗ рдкрд░ family рдХреЗ рд▓рд┐рдП рдХреБрдЫ meaningful рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред рдЪрд╛рд╣реЗрдВ рддреЛ ideas share рдХрд░реВрдБрдЧрд╛ тАФ рдЖрдк time рдмрддрд╛рдЗрдП, рдХреЛрдИ рдЬрд▓реНрджреА рдирд╣реАрдВред"],
  bn:["ржиржорж╕рзНржХрж╛рж░ {name}! {occasion}-ржПрж░ рж╢рзБржнрзЗржЪрзНржЫрж╛! ЁЯЩП ржЕржирзЗржХ ржорж╛ржирзБрж╖ ржПржЗ рж╕ржоржпрж╝рзЗ ржкрзНрж░рж┐ржпрж╝ржЬржиржжрзЗрж░ ржнржмрж┐рж╖рзНржпрждрзЗрж░ ржЬржирзНржп ржнрж╛рж▓рзЛ ржХрж┐ржЫрзБ ржнрж╛ржмрзЗржиред ржЗржЪрзНржЫрж╛ рж╣рж▓рзЗ {occasion}-ржПрж░ ржкрж░ ржХржерж╛ ржмрж▓рждрзЗ ржкрж╛рж░рж┐ тАФ ржЖржкржирж╛рж░ рж╕рзБржмрж┐ржзрж╛ржорждрзЛ!"],
  ta:["ро╡рогроХрпНроХроорпН {name}! {occasion} ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН! ЁЯЩП рокро▓ро░рпН роЗроирпНрод роирпЗро░родрпНродро┐ро▓рпН роХрпБроЯрпБроорпНрокродрпНродро┐ройрпН роОродро┐ро░рпНроХро╛ро▓родрпНродро┐ро▒рпНроХро╛роХ роиро▓рпНро▓родрпБ ропрпЛроЪро┐роХрпНроХро┐ро▒ро╛ро░рпНроХро│рпН. ро╡ро┐ро░рпБрокрпНрокрооро┐ро░рпБроирпНродро╛ро▓рпН {occasion}-роХрпНроХрпБрокрпН рокро┐ро▒роХрпБ рокрпЗроЪро▓ро╛роорпН тАФ роЕро╡роЪро░роорпН роЗро▓рпНро▓рпИ!"],
  te:["р░ир░ор░╕р▒Нр░Хр░╛р░░р░В {name}! {occasion} р░╢р▒Бр░нр░╛р░Хр░╛р░Вр░Хр▒Нр░╖р░▓р▒Б! ЁЯЩП р░Ър░╛р░▓р░╛ р░ор░Вр░жр░┐ р░И р░╕р░ор░пр░Вр░▓р▒Л р░кр▒Нр░░р░┐р░пр░ор▒Ир░и р░╡р░╛р░░р░┐ р░нр░╡р░┐р░╖р▒Нр░пр░др▒Нр░др▒Б р░Чр▒Бр░░р░┐р░Вр░Ър░┐ р░Жр░▓р▒Лр░Ър░┐р░╕р▒Нр░др░╛р░░р▒Б. р░Зр░╖р▒Нр░Яр░ор▒Ир░др▒З {occasion} р░др░░р▒Нр░╡р░╛р░д р░ор░╛р░Яр▒Нр░▓р░╛р░бр░Чр░▓р░ор▒Б тАФ р░др▒Кр░Вр░жр░░ р░▓р▒Зр░жр▒Б!"],
  mr:["рдирдорд╕реНрдХрд╛рд░ {name}! {occasion} рдЪреНрдпрд╛ рд╢реБрднреЗрдЪреНрдЫрд╛! ЁЯЩП рдЕрдиреЗрдХ рд▓реЛрдХ рдпрд╛ рд╡реЗрд│реА рдЖрдкрд▓реНрдпрд╛ рдорд╛рдгрд╕рд╛рдВрдЪреНрдпрд╛ рднрд╡рд┐рд╖реНрдпрд╛рд╕рд╛рдареА рдЪрд╛рдВрдЧрд▓рдВ рд╡рд┐рдЪрд╛рд░ рдХрд░рддрд╛рдд. рдареАрдХ рд╡рд╛рдЯрд▓рдВ рддрд░ {occasion} рдирдВрддрд░ рдмреЛрд▓реВ тАФ рдШрд╛рдИ рдирд╛рд╣реА!"],
  as:["ржиржорж╕рзНржХрж╛рз░ {name}! {occasion}-рз░ рж╢рзБржнрзЗржЪрзНржЫрж╛! ЁЯЩП ржмрж╣рзБ ржорж╛ржирзБрж╣рзЗ ржПржЗ рж╕ржоржпрж╝ржд ржкрзНрз░рж┐ржпрж╝ржЬржирз░ ржнрз▒рж┐рж╖рзНржпрждрз░ ржмрж╛ржмрзЗ ржнрж╛рж▓ ржХрж┐ржмрж╛ ржнрж╛ржмрзЗред ржЗржЪрзНржЫрж╛ рж╣'рж▓рзЗ {occasion}-рз░ ржкрж┐ржЫржд ржХржерж╛ ржкрж╛рждрж┐ржм ржкрж╛рз░рзЛржБ тАФ ржЦрз░ржЦрз░рзАржпрж╝рж╛ ржирж╛ржЗ!"],
  gu:["ркиркорк╕рлНркдрлЗ {name}! {occasion}ркирлА рк╢рлБркнрлЗркЪрлНркЫрк╛! ЁЯЩП ркШркгрк╛ рк▓рлЛркХрлЛ ркЖ рк╕ркоркпрлЗ рккрлНрк░рк┐ркпркЬркирлЛркирк╛ ркнрк╡рк┐рк╖рлНркп ркорк╛ркЯрлЗ рк╡рк┐ркЪрк╛рк░рлЗ ркЫрлЗ. ркарлАркХ рк▓рк╛ркЧрлЗ ркдрлЛ {occasion} рккркЫрлА рк╡рк╛ркд ркХрк░рлА рк╢ркХрлАркП тАФ ркЙркдрк╛рк╡рк│ ркиркерлА!"]
},
general_intro: {
  en: [
    "Hi {name}! I help {occupation} people make sure their family is financially safe. It's just a small conversation but it can make a real difference. If you'd ever like to chat about this, I'm here тАФ whenever it's convenient for you, no rush at all.",
    "Hello {name}! I got your number through a reference. I work with {occupation} people on financial planning тАФ nothing pushy at all. If you're ever free for a short friendly conversation, I'd really appreciate the chance. Completely at your convenience!",
    "Hi {name}, I know we haven't spoken before so I'll keep it simple тАФ I help working people like you protect their family's future. Many {occupation} people have found even a short chat very useful. If you're open to it, I'd love to connect sometime тАФ only when you're comfortable."
  ],
  hi:["рдирдорд╕реНрддреЗ {name} рдЬреА! рдореИрдВ {occupation} рд▓реЛрдЧреЛрдВ рдХреА family рдХреЛ financially safe рдХрд░рдиреЗ рдореЗрдВ help рдХрд░рддрд╛ рд╣реВрдБред рдЕрдЧрд░ рдХрднреА рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВ, рддреЛ рдореИрдВ available рд╣реВрдБ тАФ рдЬрдм рднреА рд╕реБрд╡рд┐рдзрд╛ рд╣реЛ, рдХреЛрдИ рдЬрд▓реНрджреА рдирд╣реАрдВред","рд╣реЗрд▓реЛ {name} рдЬреА! рдЖрдкрдХрд╛ number рдПрдХ reference рд╕реЗ рдорд┐рд▓рд╛ред рдореИрдВ {occupation} рд▓реЛрдЧреЛрдВ рдХреЛ financial planning рдореЗрдВ help рдХрд░рддрд╛ рд╣реВрдБ тАФ рдХреЛрдИ pressure рдирд╣реАрдВред рдХрднреА рдЫреЛрдЯреА рдмрд╛рддрдЪреАрдд рд╣реЛ рд╕рдХреЗ рддреЛ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд▓рдЧреЗрдЧрд╛ред рдЖрдкрдХреА рд╕реБрд╡рд┐рдзрд╛ рдЕрдиреБрд╕рд╛рд░!"],
  bn:["ржиржорж╕рзНржХрж╛рж░ {name}! ржЖржорж┐ {occupation} ржорж╛ржирзБрж╖ржжрзЗрж░ ржкрж░рж┐ржмрж╛рж░ржХрзЗ financially safe ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рж┐ред ржЗржЪрзНржЫрж╛ рж╣рж▓рзЗ ржХржерж╛ ржмрж▓рждрзЗ ржкрж╛рж░рж┐ тАФ ржЖржкржирж╛рж░ рж╕рзБржмрж┐ржзрж╛ржорждрзЛ, рждрж╛ржбрж╝рж╛рж╣рзБржбрж╝рзЛ ржирзЗржЗред"],
  ta:["ро╡рогроХрпНроХроорпН {name}! {occupation} роороХрпНроХро│ро┐ройрпН роХрпБроЯрпБроорпНрокродрпНродрпИ financially safe-роЖроХ ро╡рпИроХрпНроХ роЙродро╡рпБроХро┐ро▒рпЗройрпН. ро╡ро┐ро░рпБрокрпНрокрооро┐ро░рпБроирпНродро╛ро▓рпН роиро╛ройрпН роЗро░рпБроХрпНроХро┐ро▒рпЗройрпН тАФ роЙроЩрпНроХро│рпН ро╡роЪродро┐ропро╛рой роирпЗро░родрпНродро┐ро▓рпН, роЕро╡роЪро░роорпН роЗро▓рпНро▓рпИ."],
  te:["р░ир░ор░╕р▒Нр░Хр░╛р░░р░В {name}! {occupation} р░╡р░╛р░░р░┐ р░Хр▒Бр░Яр▒Бр░Вр░мр░╛р░ир▒Нр░ир░┐ financially safe-р░Чр░╛ р░Ър▒Зр░пр░бр░Вр░▓р▒Л р░╕р░╣р░╛р░пр░В р░Ър▒Зр░╕р▒Нр░др░╛р░ир▒Б. р░Зр░╖р▒Нр░Яр░ор▒Ир░др▒З р░ир▒Зр░ир▒Б р░Йр░ир▒Нр░ир░╛р░ир▒Б тАФ р░ор▒А р░Ер░ир▒Бр░╡р▒Ир░и р░╕р░ор░пр░Вр░▓р▒Л, р░др▒Кр░Вр░жр░░ р░▓р▒Зр░жр▒Б."],
  mr:["рдирдорд╕реНрдХрд╛рд░ {name}! рдореА {occupation} рд▓реЛрдХрд╛рдВрдЪреНрдпрд╛ рдХреБрдЯреБрдВрдмрд╛рд▓рд╛ financially safe рдХрд░рд╛рдпрд▓рд╛ рдорджрдд рдХрд░рддреЛ. рд╡рд╛рдЯрд▓рдВ рддрд░ рдореА рдЙрдкрд▓рдмреНрдз рдЖрд╣реЗ тАФ рддреБрдордЪреНрдпрд╛ рд╕реЛрдпреАрдиреБрд╕рд╛рд░, рдШрд╛рдИ рдирд╛рд╣реА."],
  as:["ржиржорж╕рзНржХрж╛рз░ {name}! ржоржЗ {occupation} ржорж╛ржирзБрж╣рз░ ржкрз░рж┐ржпрж╝рж╛рж▓ржХ financially safe ржХрз░рж╛ржд рж╕рж╣рж╛ржпрж╝ ржХрз░рзЛржБред ржЗржЪрзНржЫрж╛ рж╣'рж▓рзЗ ржоржЗ ржЖржЫрзЛржБ тАФ ржЖржкрзЛржирж╛рз░ рж╕рзБржмрж┐ржзрж╛ржорждрзЗ, ржЦрз░ржЦрз░рзАржпрж╝рж╛ ржирж╛ржЗред"],
  gu:["ркиркорк╕рлНркдрлЗ {name}! рк╣рлБркВ {occupation} рк▓рлЛркХрлЛркирк╛ рккрк░рк┐рк╡рк╛рк░ркирлЗ financially safe ркХрк░рк╡рк╛ркорк╛ркВ ркоркжркж ркХрк░рлБркВ ркЫрлБркВ. ркарлАркХ рк▓рк╛ркЧрлЗ ркдрлЛ рк╣рлБркВ ркЙрккрк▓ркмрлНркз ркЫрлБркВ тАФ ркдркорк╛рк░рлА рк╕рлБрк╡рк┐ркзрк╛ ркорлБркЬркм, ркЙркдрк╛рк╡рк│ ркиркерлА."]
}
};

const OCCUPATIONS=['Salaried / Office Job','Business Owner','Doctor / Medical','Government Job','Teacher / Professor','Self Employed / Freelancer','Homemaker','Retired / Senior'];
const FAMILY_OPTIONS=['Single / Unmarried','Newly Married','Married + Kids','Parents / Elderly'];
const CONCERNS=[{label:"Family's Safety ЁЯСитАНЁЯСйтАНЁЯСз",key:"family"},{label:"Child's Education ЁЯУЪ",key:"children"},{label:"Tax Saving ЁЯТ░",key:"tax"},{label:"Retirement Planning ЁЯПЦя╕П",key:"retirement"},{label:"Health / Medical ЁЯПе",key:"health"},{label:"Not Sure / General",key:"general"}];

function cleanOccupation(o){const m={'Salaried / Office Job':'salaried','Business Owner':'business','Doctor / Medical':'medical','Government Job':'government','Teacher / Professor':'teaching','Self Employed / Freelancer':'self-employed','Homemaker':'homemaker','Retired / Senior':'retired'};return m[o]||o;}

// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
// CHAT UI ENGINE
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
function getTime(){return new Date().toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true});}

function addMessage(text,type='bot',extra=''){
  const ca=document.getElementById('chatArea'),div=document.createElement('div');
  div.className=`message ${type}`;
  let html=text.replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>').replace(/\n/g,'<br>');
  div.innerHTML=`${html}${extra}<div class="msg-time">${getTime()}${type==='user'?'<span class="ticks">тЬУтЬУ</span>':''}</div>`;
  ca.appendChild(div);ca.scrollTop=ca.scrollHeight;return div;
}

function addQuickReplies(options,callback){
  const ca=document.getElementById('chatArea'),div=document.createElement('div');div.className='message bot';
  div.innerHTML=`<div class="quick-replies">${options.map((o,i)=>`<button class="quick-btn" data-idx="${i}">${typeof o==='object'?(o.label||o.name):o}</button>`).join('')}</div><div class="msg-time">${getTime()}</div>`;
  ca.appendChild(div);ca.scrollTop=ca.scrollHeight;
  div.querySelectorAll('.quick-btn').forEach(btn=>{btn.addEventListener('click',()=>{div.querySelectorAll('.quick-btn').forEach(b=>{b.disabled=true;b.style.opacity='.5';});btn.style.opacity='1';btn.style.background='var(--wa-green)';btn.style.color='white';callback(parseInt(btn.dataset.idx),options[parseInt(btn.dataset.idx)]);});});
}

function addModeSelector(callback){
  const ca=document.getElementById('chatArea'),div=document.createElement('div');div.className='message bot';
  div.innerHTML=`<div class="mode-grid">
    <button class="mode-btn" data-mode="icebreaker"><div class="mode-icon">ЁЯТм</div><div class="mode-title">Icebreaker</div><div class="mode-desc">First message to a new lead</div></button>
    <button class="mode-btn" data-mode="recommend"><div class="mode-icon">ЁЯУЛ</div><div class="mode-title">Need Analyser</div><div class="mode-desc">Product recommendation in a meeting</div></button>
  </div><div class="msg-time">${getTime()}</div>`;
  ca.appendChild(div);ca.scrollTop=ca.scrollHeight;
  div.querySelectorAll('.mode-btn').forEach(btn=>{btn.addEventListener('click',()=>{div.querySelectorAll('.mode-btn').forEach(b=>{b.style.opacity='.5';b.style.pointerEvents='none';});btn.style.opacity='1';btn.style.border='2px solid var(--wa-green)';btn.style.background='#f0faf0';callback(btn.dataset.mode);});});
}

function addLanguageGrid(callback){
  const ca=document.getElementById('chatArea'),div=document.createElement('div');div.className='message bot';
  div.innerHTML=`<div>What language should the message be in?</div><div class="lang-grid">${Object.entries(LANGUAGES).map(([c,l])=>`<button class="lang-btn" data-code="${c}"><div class="lang-native">${l.flag} ${l.native}</div><div class="lang-eng">${l.name}</div></button>`).join('')}</div><div class="msg-time">${getTime()}</div>`;
  ca.appendChild(div);ca.scrollTop=ca.scrollHeight;
  div.querySelectorAll('.lang-btn').forEach(btn=>{btn.addEventListener('click',()=>{div.querySelectorAll('.lang-btn').forEach(b=>{b.style.opacity='.5';b.style.pointerEvents='none';});btn.style.opacity='1';btn.style.border='2px solid var(--wa-green)';btn.style.background='#f0faf0';callback(btn.dataset.code);});});
}

function addGoalToggles(callback){
  const ca=document.getElementById('chatArea'),div=document.createElement('div');div.className='message bot';
  const goalNames=Object.keys(CONFIG.goals);
  const selected={};goalNames.forEach(g=>{selected[g]=false;});
  div.innerHTML=`<div>Tap to select, then press Done:</div><div class="goal-toggles">${goalNames.map(g=>`<button class="goal-toggle" data-goal="${g}"><span class="toggle-dot"></span>${g}</button>`).join('')}</div><button class="done-btn" id="goalDone">Done тЬУ</button><div class="msg-time">${getTime()}</div>`;
  ca.appendChild(div);ca.scrollTop=ca.scrollHeight;
  div.querySelectorAll('.goal-toggle').forEach(btn=>{btn.addEventListener('click',()=>{const g=btn.dataset.goal;selected[g]=!selected[g];btn.classList.toggle('on');btn.querySelector('.toggle-dot').innerHTML=selected[g]?'тЬУ':'';});});
  div.querySelector('#goalDone').addEventListener('click',()=>{div.querySelectorAll('button').forEach(b=>{b.disabled=true;b.style.pointerEvents='none';});callback(selected);});
}

function showTyping(){const ca=document.getElementById('chatArea'),d=document.createElement('div');d.className='message bot';d.id='typingMsg';d.innerHTML='<div class="typing-indicator"><span></span><span></span><span></span></div>';ca.appendChild(d);ca.scrollTop=ca.scrollHeight;}
function hideTyping(){const e=document.getElementById('typingMsg');if(e)e.remove();}
function disableInput(d){STATE.inputDisabled=d;document.getElementById('userInput').disabled=d;}

async function botReply(text,extra='',delay=600){disableInput(true);showTyping();await new Promise(r=>setTimeout(r,delay));hideTyping();const msg=addMessage(text,'bot',extra);disableInput(false);document.getElementById('userInput').focus();return msg;}

function formatINR(n){if(n>=10000000)return 'тВ╣'+Math.round(n/100000)/100+' Cr';if(n>=100000)return 'тВ╣'+(n/100000).toFixed(1)+' L';if(n>=1000)return 'тВ╣'+(n/1000).toFixed(0)+'K';return 'тВ╣'+n;}

// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
// WELCOME & MODE SELECTION
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
async function startChat(){
  document.getElementById('chatArea').innerHTML='';
  const dd=document.createElement('div');dd.className='date-divider';dd.innerHTML='<span>TODAY</span>';
  document.getElementById('chatArea').appendChild(dd);
  await botReply("Hello! I'm **Akash** тАФ your insurance sales buddy! ЁЯСЛ\n\nWhat would you like to do today?",'',800);
  await new Promise(r=>setTimeout(r,300));
  addModeSelector(mode=>{
    STATE.mode=mode;
    if(typeof gtag==='function')gtag('event','mode_selected',{mode:mode});
    addMessage(mode==='icebreaker'?'ЁЯТм Icebreaker':'ЁЯУЛ Need Analyser','user');
    setTimeout(()=>{mode==='icebreaker'?startIcebreaker():startRecommend();},400);
  });
}

// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
// ICEBREAKER FLOW
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
async function startIcebreaker(){
  await botReply("Great! Tell me about your lead and I'll create the perfect first message to get a meeting. Let's start!",'',600);
  await new Promise(r=>setTimeout(r,300));
  STATE.step='ib_language';
  await botReply("First тАФ what **language** should the message be in?",'',400);
  addLanguageGrid(code=>{STATE.data.language=code;addMessage(`${LANGUAGES[code].flag} ${LANGUAGES[code].native}`,'user');setTimeout(()=>ibAskName(),300);});
}

async function ibAskName(){STATE.step='ib_name';await botReply("Great! ЁЯСН Now tell me, what is your **lead's name**?");}
async function ibAskAge(){STATE.step='ib_age';await botReply(`How old is **${STATE.data.name}**? (type a number)`);}
async function ibAskOccupation(){STATE.step='ib_occupation';await botReply(`What does **${STATE.data.name}** do for work?\n\nChoose below or type:`,'',500);addQuickReplies(OCCUPATIONS,(i,v)=>{STATE.data.occupation=v;addMessage(v,'user');setTimeout(()=>ibAskFamily(),300);});}
async function ibAskFamily(){STATE.step='ib_family';await botReply(`What is **${STATE.data.name}**'s family situation?`,'',500);addQuickReplies(FAMILY_OPTIONS,(i,v)=>{STATE.data.family=v;STATE.data.familyIdx=i;addMessage(v,'user');setTimeout(()=>ibAskOccasion(),300);});}

async function ibAskOccasion(){
  STATE.step='ib_occasion';await botReply("Any upcoming **festival or occasion** to use in the message?",'',500);
  const uf=getUpcomingFestivals();const opts=[...uf.map(f=>f.label),'No specific occasion'];
  addQuickReplies(opts,(i)=>{STATE.data.occasion=i<uf.length?uf[i].name:null;addMessage(opts[i],'user');setTimeout(()=>ibAskConcern(),300);});
}

async function ibAskConcern(){STATE.step='ib_concern';await botReply(`Last question! What is **${STATE.data.name}** most likely worried about?`,'',500);addQuickReplies(CONCERNS.map(c=>c.label),(i)=>{STATE.data.concern=CONCERNS[i].key;addMessage(CONCERNS[i].label,'user');setTimeout(()=>ibGenerate(),300);});}

function ibSelectCategory(){const{familyIdx,concern,occasion}=STATE.data;if(concern==='tax')return'tax_saving';if(concern==='retirement')return'retirement';if(concern==='health')return'health_angle';if(concern==='children'&&familyIdx===2)return'family_with_kids';if(concern==='family'){if(familyIdx===1)return'family_young_married';if(familyIdx===2)return'family_with_kids';return'general_intro';}if(occasion)return'festival_occasion';if(familyIdx===1)return'family_young_married';if(familyIdx===2)return'family_with_kids';return'general_intro';}

function ibFill(t){return t.replace(/\{name\}/g,STATE.data.name||'').replace(/\{age\}/g,STATE.data.age||'30').replace(/\{occupation\}/g,cleanOccupation(STATE.data.occupation)||'working').replace(/\{occasion\}/g,STATE.data.occasion||'the festival');}

function ibGetMsgs(cat,lang){const s=SCRIPTS[cat];if(!s)return[];return(s[lang]||s['en']||[]).map(m=>ibFill(m));}

async function ibGenerate(){
  STATE.step='ib_generate';await botReply(`Creating the best messages for **${STATE.data.name}**... ЁЯзКтЬи`,'',1000);await new Promise(r=>setTimeout(r,600));
  const cat=ibSelectCategory(),lang=STATE.data.language||'en';let msgs=ibGetMsgs(cat,lang);
  if(typeof gtag==='function')gtag('event','icebreaker_generated',{category:cat,language:lang});
  if(msgs.length<2){const en=ibGetMsgs(cat,'en');msgs=[...msgs,...en.filter(m=>!msgs.includes(m))].slice(0,3);}
  await botReply("Here are your messages тАФ pick the one that feels right! ЁЯСЗ",'',400);
  for(let i=0;i<Math.min(msgs.length,3);i++){
    await new Promise(r=>setTimeout(r,350));const ca=document.getElementById('chatArea'),div=document.createElement('div');div.className='message bot';
    const waLink=`https://wa.me/?text=${encodeURIComponent(msgs[i])}`;
    div.innerHTML=`<div class="icebreaker-card"><h4>ЁЯТм Message ${i+1}</h4><div class="icebreaker-msg" id="msg-text-${i}">${msgs[i]}</div><div class="card-actions"><button class="copy-btn" onclick="copyMsg(this,${i})">ЁЯУЛ Copy</button><a href="${waLink}" target="_blank" class="wa-btn" style="text-decoration:none" onclick="if(typeof gtag==='function')gtag('event','whatsapp_sent',{message_index:${i}})">ЁЯТм Send on WhatsApp</a></div></div><div class="msg-time">${getTime()}</div>`;
    ca.appendChild(div);ca.scrollTop=ca.scrollHeight;
  }
  await new Promise(r=>setTimeout(r,500));
  addQuickReplies(['ЁЯФД More Messages','ЁЯЖХ New Lead'],(i)=>{if(i===0){addMessage('ЁЯФД More Messages','user');setTimeout(()=>ibGenerate(),300);}else{addMessage('ЁЯЖХ New Lead','user');setTimeout(()=>resetChat(),300);}});
  document.getElementById('newChatFab').classList.add('show');
}

// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
// PRODUCT RECOMMENDATION FLOW
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
async function startRecommend(){
  await botReply("Let's find the right product for your customer! ЁЯУЛ\n\nI'll ask a few quick questions тАФ first some basics you can pre-fill, then 5 simple questions for the customer.",'',800);
  await new Promise(r=>setTimeout(r,300));
  STATE.step='rc_age';
  await botReply("What is the customer's **age**? (type a number)");
}

async function rcAskMarital(){STATE.step='rc_marital';await botReply("**Marital status?**",'',400);addQuickReplies(['Single','Married'],(i,v)=>{STATE.recoData.marital=v;addMessage(v,'user');setTimeout(()=>rcAskDependents(),300);});}

async function rcAskDependents(){STATE.step='rc_dependents';await botReply("How many **dependents** does the customer have? (type a number, 0 if none)");}

async function rcAskOutflow(){
  STATE.step='rc_outflow';
  await botReply("Now the **5 customer questions!** You can ask these together:\n\n**Q1.** Monthly outflow for a family like yours?",'',600);
  addQuickReplies(Object.keys(CONFIG.outflowRanges),(i,v)=>{STATE.recoData.outflow=v;addMessage(v,'user');setTimeout(()=>rcAskWealth(),300);});
}

async function rcAskWealth(){
  STATE.step='rc_wealth';
  await botReply("**Q2.** Roughly, how much wealth does a family like yours have?",'',400);
  addQuickReplies(Object.keys(CONFIG.wealthRanges),(i,v)=>{STATE.recoData.wealth=v;addMessage(v,'user');setTimeout(()=>rcAskMindset(),300);});
}

async function rcAskMindset(){
  STATE.step='rc_mindset';
  await botReply("**Q3.** Which feels more like the customer?",'',400);
  addQuickReplies(['Live for today','Live long'],(i,v)=>{STATE.recoData.mindset=v;addMessage(v,'user');setTimeout(()=>rcAskGoals(),300);});
}

async function rcAskGoals(){
  STATE.step='rc_goals';
  await botReply("**Q4.** Any major expenses planned in the next ~20 years?\n\nTap to select all that apply:",'',500);
  addGoalToggles(selected=>{
    STATE.recoData.goals=selected;
    const picked=Object.keys(selected).filter(k=>selected[k]);
    addMessage(picked.length?picked.join(', '):'None selected','user');
    setTimeout(()=>rcAskColour(),300);
  });
}

async function rcAskColour(){
  STATE.step='rc_colour';
  await botReply("**Q5.** Last one тАФ which car colour does the customer like most?\n\n_(This is a personality indicator, not about cars!)_",'',500);
  addQuickReplies(['Black','Red','White','Blue'],(i,v)=>{STATE.recoData.carColour=v;addMessage(v,'user');setTimeout(()=>rcGenerate(),400);});
}

async function rcGenerate(){
  STATE.step='rc_result';
  await botReply("Crunching the numbers... ЁЯУК",'',1200);
  await new Promise(r=>setTimeout(r,500));

  const R = runRecoEngine(STATE.recoData);
  if(typeof gtag==='function')gtag('event','recommendation_generated',{top_product:R.top1Product.product,top_type:R.top1.type,score:R.top1.score});

  // Snapshot
  const ca = document.getElementById('chatArea');
  const snapDiv = document.createElement('div');
  snapDiv.className='message bot';
  snapDiv.innerHTML=`<div style="margin-bottom:4px"><strong>ЁЯУК Customer Snapshot</strong></div>
    <div class="snapshot-grid">
      <div class="snap-item"><div class="snap-label">Monthly Expense</div><div class="snap-value">${formatINR(R.monthlyOutflow)}</div></div>
      <div class="snap-item"><div class="snap-label">In 20 Years</div><div class="snap-value">${formatINR(Math.round(R.projectedMonthly20y))}</div></div>
      <div class="snap-item"><div class="snap-label">Wealth</div><div class="snap-value">${formatINR(R.wealthMidpoint)}</div></div>
      <div class="snap-item"><div class="snap-label">Future Goals</div><div class="snap-value">${formatINR(Math.round(R.totalGoals))}</div></div>
      <div class="snap-item"><div class="snap-label">Protection Cover</div><div class="snap-value green">${formatINR(R.coverRounded)}</div></div>
      <div class="snap-item"><div class="snap-label">Monthly Budget</div><div class="snap-value">${formatINR(Math.round(R.premiumSoft))} тАУ ${formatINR(Math.round(R.premiumHard))}</div></div>
    </div><div class="msg-time">${getTime()}</div>`;
  ca.appendChild(snapDiv);ca.scrollTop=ca.scrollHeight;

  await new Promise(r=>setTimeout(r,500));

  // Top recommendation
  await botReply("Here are the **Top Recommendations** for this customer:",'',400);
  await new Promise(r=>setTimeout(r,300));

  // Card 1 - Primary
  const c1=document.createElement('div');c1.className='message bot';
  c1.innerHTML=`<div class="reco-card primary"><h4>ЁЯеЗ #1 Recommendation</h4><div class="reco-product">${R.top1Product.product||'тАФ'}</div><div class="reco-type">${R.top1.type} тАв Score: ${R.top1.score}/100</div><div class="reco-explain">${R.top1Product.explain||''}</div></div><div class="msg-time">${getTime()}</div>`;
  ca.appendChild(c1);ca.scrollTop=ca.scrollHeight;

  await new Promise(r=>setTimeout(r,400));

  // Card 2 - Secondary
  const c2=document.createElement('div');c2.className='message bot';
  c2.innerHTML=`<div class="reco-card"><h4>ЁЯеИ #2 Recommendation</h4><div class="reco-product">${R.top2Product.product||'тАФ'}</div><div class="reco-type">${R.top2.type} тАв Score: ${R.top2.score}/100</div><div class="reco-explain">${R.top2Product.explain||''}</div></div><div class="msg-time">${getTime()}</div>`;
  ca.appendChild(c2);ca.scrollTop=ca.scrollHeight;

  await new Promise(r=>setTimeout(r,400));

  // Card 3 - Bundle
  const bundleParts = R.bundle.split(' + ');
  const bundleProducts = bundleParts.map(p => (CONFIG.productCatalog[p.trim()]||{}).product || p.trim()).join(' + ');
  const c3=document.createElement('div');c3.className='message bot';
  c3.innerHTML=`<div class="reco-card bundle"><h4>ЁЯОБ Bundle Suggestion</h4><div class="reco-product">${bundleProducts}</div><div class="reco-type">${R.bundle}</div><div class="reco-explain">A combination approach covering multiple needs for this customer's situation.</div></div><div class="msg-time">${getTime()}</div>`;
  ca.appendChild(c3);ca.scrollTop=ca.scrollHeight;

  await new Promise(r=>setTimeout(r,400));

  // Confidence
  if(R.confidence<100){await botReply(`тЪая╕П Confidence: **${R.confidence}/100** тАФ some inputs were missing so results may be approximate.`);}

  addQuickReplies(['ЁЯУЛ New Customer','ЁЯТм Icebreaker','ЁЯПа Start Over'],(i)=>{
    addMessage(['ЁЯУЛ New Customer','ЁЯТм Icebreaker','ЁЯПа Start Over'][i],'user');
    setTimeout(()=>{
      if(i===0){STATE.recoData={};startRecommend();}
      else if(i===1){STATE.data={};startIcebreaker();}
      else resetChat();
    },300);
  });
  document.getElementById('newChatFab').classList.add('show');
}

// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
// INPUT HANDLING
// тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
function handleSend(){const inp=document.getElementById('userInput'),t=inp.value.trim();if(!t||STATE.inputDisabled)return;inp.value='';inp.style.height='auto';addMessage(t,'user');processInput(t);}

function processInput(text){
  switch(STATE.step){
    // Icebreaker
    case'ib_name':STATE.data.name=text;setTimeout(()=>ibAskAge(),300);break;
    case'ib_age':const a1=parseInt(text);if(isNaN(a1)||a1<18||a1>100){botReply("Please enter a valid age between 18 and 100");return;}STATE.data.age=a1;setTimeout(()=>ibAskOccupation(),300);break;
    case'ib_occupation':STATE.data.occupation=text;setTimeout(()=>ibAskFamily(),300);break;
    // Recommend
    case'rc_age':const a2=parseInt(text);if(isNaN(a2)||a2<18||a2>100){botReply("Please enter a valid age between 18 and 100");return;}STATE.recoData.age=a2;setTimeout(()=>rcAskMarital(),300);break;
    case'rc_dependents':const d=parseInt(text);if(isNaN(d)||d<0||d>15){botReply("Please enter a number between 0 and 15");return;}STATE.recoData.dependents=d;setTimeout(()=>rcAskOutflow(),300);break;
    default:botReply("Please choose from the options above ЁЯСЖ");
  }
}

function copyMsg(btn,i){const t=document.getElementById(`msg-text-${i}`).innerText;if(typeof gtag==='function')gtag('event','message_copied',{message_index:i});navigator.clipboard.writeText(t).then(()=>{btn.innerHTML='тЬЕ Copied!';btn.classList.add('copied');setTimeout(()=>{btn.innerHTML='ЁЯУЛ Copy';btn.classList.remove('copied');},2000);}).catch(()=>{const ta=document.createElement('textarea');ta.value=t;document.body.appendChild(ta);ta.select();document.execCommand('copy');document.body.removeChild(ta);btn.innerHTML='тЬЕ Copied!';btn.classList.add('copied');setTimeout(()=>{btn.innerHTML='ЁЯУЛ Copy';btn.classList.remove('copied');},2000);});}
function handleKeyDown(e){if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSend();}}
function autoGrow(el){el.style.height='auto';el.style.height=Math.min(el.scrollHeight,100)+'px';}
function resetChat(){STATE.step='welcome';STATE.mode=null;STATE.data={};STATE.recoData={};STATE.inputDisabled=false;document.getElementById('userInput').disabled=false;document.getElementById('newChatFab').classList.remove('show');startChat();}
document.addEventListener('DOMContentLoaded',startChat);
</script>
</body>
</html>
